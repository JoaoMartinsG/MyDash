<div class = "overview-header">
  <%= image_tag "logos/MyDashLogo1.png", id:"logo-overview" %>
  <div class="welcome">
  <p>Welcome</p>
  <h1><%= current_user.first_name %></h1>
  </div>
</div>
  <div class = "container">
    <div class = "boxes d-flex justify-content-evenly text-center">
        <div class="box1">
          <p style="font-size: 16px; margin-top: 7px; margin-bottom: 13px">You have</p>
          <p style="font-size: 25px; margin-top: 7px; margin-bottom: 13px; color: #5BC0BE"><strong><%= current_user.vehicles.count %></strong></p>
          <p style="font-size: 16px; margin-top: -7px; margin-bottom: 13px">Vehicles</p>
        </div>
        <div class="box2">
          <p style="font-size: 16px; margin-top: 7px; margin-bottom: 13px">Undone</p>
          <p style="font-size: 25px; margin-top: 7px; margin-bottom: 13px; color: #5BC0BE"><strong><%= @maintenances.where(status: false).count %></strong></p>
          <p style="font-size: 16px; margin-top: -7px; margin-bottom: 13px">Tasks</p>
        </div>
        <div class="box3">
          <p style="font-size: 16px; margin-top: 7px; margin-bottom: 13px">Unresolved</p>
          <p style="font-size: 25px; margin-top: 7px; margin-bottom: 13px; color: #5BC0BE"><strong><%= @problems.where(status: false).count %></strong></p>
          <p style="font-size: 16px; margin-top: -7px; margin-bottom: 13px">Problems</p>
        </div>
    </div>
    <div>
      <% @sum_maintenances = 0 %>
      <% @sum_undone_maintenances = 0 %>
      <% @sum_problems = 0 %>
      <% @sum_undone_problems = 0 %>
      <% @sum_wishlist = 0 %>
      <% @sum_undone_wishlist = 0 %>
      <% current_user.vehicles.each do |vehicle|  %>
        <% @sum_maintenances += vehicle.maintenances.where(status: true).sum(:price) %>
        <% @sum_undone_maintenances += vehicle.maintenances.where(status: false).sum(:price) %>
        <% @sum_problems += vehicle.problems.where(status: true).sum(:price) %>
        <% @sum_undone_problems += vehicle.problems.where(status: false).sum(:price) %>
        <% @sum_wishlist += vehicle.wishlists.where(status: true).sum(:price) %>
        <% @sum_undone_wishlist += vehicle.wishlists.where(status: false).sum(:price) %>
      <% end %>
      <p><%= Maintenance.count %></p>
      <p>Total needed to spend on Maintenances: <%= @sum_undone_maintenances %> €</p>
      <p>Total needed to spent on Problems: <%= @sum_undone_problems %> €</p>
      <p>Total needed to spent on Wishlist Items: <%= @sum_undone_wishlist %> €</p>
      <p>Total spent on Maintenances: <%= @sum_maintenances %> €</p>
      <p>Total spent on Problems: <%= @sum_problems %> €</p>
      <p>Total spent on Wishlist Items: <%= @sum_wishlist %> €</p>
    </div>
  </div>
